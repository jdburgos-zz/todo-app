(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{11:function(t,e,c){t.exports={todo:"Todo_todo__1mlW6","todo--checked":"Todo_todo--checked__1Blz7",todo__check:"Todo_todo__check__2fGoC",todo__title:"Todo_todo__title__3t0Oh",todo__cross:"Todo_todo__cross__2Mo1U"}},12:function(t,e,c){t.exports={header__background:"Header_header__background__3Cr2x",header__title:"Header_header__title__2hFUs"}},13:function(t,e,c){t.exports={"todo-list":"TodoList_todo-list__ovtWW","todo-list__actions":"TodoList_todo-list__actions__Pqg6f","todo-list__action":"TodoList_todo-list__action__2LpST"}},17:function(t,e,c){t.exports={input:"Input_input__3uLFF",error:"Input_error__oz7eh"}},18:function(t,e,c){t.exports={"todo-form":"TodoForm_todo-form__3uD-J"}},24:function(t,e,c){t.exports={container:"Container_container__3Wl78"}},25:function(t,e,c){t.exports={card:"Card_card__3AJ-o"}},33:function(t,e,c){},40:function(t,e,c){"use strict";c.r(e);var o=c(8),n=c.n(o),a=c(23),r=c.n(a),i=(c(33),function(t){return t.children}),s=c(24),d=c.n(s),u=c(3),l=function(t){return Object(u.jsx)("div",{className:"".concat(d.a.container),children:t.children})},j=c(12),_=c.n(j),h=function(){return Object(u.jsxs)("header",{className:_.a.header,children:[Object(u.jsxs)("picture",{className:_.a.header__background,children:[Object(u.jsx)("source",{media:"(min-width: 576px)",srcSet:"".concat("","/images/bg-desktop-light.jpg")}),Object(u.jsx)("img",{src:"".concat("","/images/bg-mobile-light.jpg"),alt:"Todo app"})]}),Object(u.jsx)(l,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:_.a.header__title,children:"TODO"}),Object(u.jsx)("div",{className:_.a["theme-switch"]})]})})]})},f=c(10),b=c(25),p=c.n(b),O=function(t){return Object(u.jsx)("div",{className:"".concat(p.a.card," ").concat(t.className),children:t.children})},m=c(11),v=c.n(m),x=c(26),g=c(27),k=c(19);c(38);k.a.initializeApp({apiKey:"AIzaSyD7k0vhjXK-RFrsUbL95fdhqSYzBOVTqAo",authDomain:"react-todo-app-92619.firebaseapp.com",databaseURL:"https://react-todo-app-92619-default-rtdb.firebaseio.com",projectId:"react-todo-app-92619",storageBucket:"react-todo-app-92619.appspot.com",messagingSenderId:"448380857067",appId:"1:448380857067:web:cf2611fca72481838b6cae"});var N=k.a.database().ref("/todos"),T=new(function(){function t(){Object(x.a)(this,t)}return Object(g.a)(t,[{key:"getAll",value:function(){return N}},{key:"create",value:function(t){return N.push(t)}},{key:"update",value:function(t,e){return N.child(t).update(e)}},{key:"delete",value:function(t){return N.child(t).remove()}},{key:"deleteAll",value:function(){return N.remove()}}]),t}()),y=function(t){var e=Object(o.useState)(!1),c=Object(f.a)(e,2),n=c[0],a=c[1];Object(o.useEffect)((function(){a(!t.todo.active)}),[t.todo.active]);var r=n||!t.todo.active,i=r?v.a["todo--checked"]:"",s="".concat(v.a.todo," ").concat(i).trim();return Object(u.jsxs)("div",{className:s,children:[Object(u.jsx)("div",{className:v.a.todo__check,onClick:function(){a((function(e){return T.update(t.todo.id,{active:!t.todo.active}),!e}))},children:r&&Object(u.jsx)("img",{src:"".concat("","/images/icon-check.svg"),alt:"check"})}),Object(u.jsx)("h3",{className:v.a.todo__title,children:t.todo.title}),Object(u.jsx)("img",{className:v.a.todo__cross,src:"".concat("","/images/icon-cross.svg"),alt:"cross",onClick:function(){T.delete(t.todo.id)}})]})},C=c(13),S=c.n(C),F=function(){var t=Object(o.useState)([]),e=Object(f.a)(t,2),c=e[0],n=e[1],a=Object(o.useState)(0),r=Object(f.a)(a,2),s=r[0],d=r[1],l=function(t){var e=[];t.forEach((function(t){var c=t.key,o=t.val();e.push({id:c,title:o.title,active:o.active})})),d(e.reduce((function(t,e){return t+(e.active?1:0)}),0)),n(e)};Object(o.useEffect)((function(){return T.getAll().on("value",l),function(){T.getAll().off("value",l)}}),[]);var j=c.map((function(t,e){return Object(u.jsx)(y,{todo:t},e)})),_=Object(u.jsx)("p",{children:"There aren't todos"});return j.length>0&&(_=j),Object(u.jsx)(i,{children:Object(u.jsxs)(O,{className:S.a["todo-list"],children:[Object(u.jsx)("div",{className:S.a["todo-list__content"],children:_}),Object(u.jsxs)("div",{className:S.a["todo-list__actions"],children:[Object(u.jsxs)("div",{children:[s," items left"]}),Object(u.jsx)("div",{className:S.a["todo-list__action"],children:"Clear Completed"})]})]})})},w=c(16),L=c.n(w),A=c(28),I=c(20),U=c(17),z=c.n(U),B=n.a.forwardRef((function(t,e){var c=t.error?z.a.error:"",o=t.className?t.className:"",n="".concat(z.a.input," ").concat(o," ").concat(c).trim();return Object(u.jsx)("input",Object(I.a)(Object(I.a)({onChange:t.onChange,className:n,ref:e},t.input),{},{onKeyUp:t.onKeyUp}))})),D=c(18),E=c.n(D),K=function(){var t=Object(o.useState)(!1),e=Object(f.a)(t,2),c=e[0],n=e[1],a=Object(o.useRef)(),r=function(){var t=Object(A.a)(L.a.mark((function t(e){var c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==e.key){t.next=10;break}if(""===(c=a.current.value.trim())){t.next=9;break}return n(!1),t.next=6,T.create({title:c,active:!0});case 6:a.current.value="",t.next=10;break;case 9:n(!0);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(O,{className:E.a["todo-form"],children:Object(u.jsx)(B,{ref:a,className:E.a["todo-input-control"],input:{id:"todo-add",type:"text"},error:c,onChange:function(){var t=a.current.value.trim();n(""===t)},onKeyUp:r})})},J=function(){return Object(u.jsx)(O,{children:"Filters"})},R=function(){return Object(u.jsxs)(i,{children:[Object(u.jsx)(h,{}),Object(u.jsxs)(l,{children:[Object(u.jsx)(K,{}),Object(u.jsx)(F,{}),Object(u.jsx)(J,{})]})]})},W=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(e){var c=e.getCLS,o=e.getFID,n=e.getFCP,a=e.getLCP,r=e.getTTFB;c(t),o(t),n(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(R,{})}),document.getElementById("root")),W()}},[[40,1,2]]]);
//# sourceMappingURL=main.1745e336.chunk.js.map